<!doctypehtml><html><head><script src=coi-serviceworker.js></script><script>function output(e,t="Black"){let n=document.getElementById("output"),l=document.createElement("p");l.style="color: "+t,l.textContent=e;let o=!1;n.scrollTop>=n.scrollHeight-n.offsetHeight&&(o=!0),n.append(l),o&&n.scrollTo(n.scrollLeft,n.scrollHeight)}function output_with_console(e,t="Black",n=2){console.log(e),output(e,t),Module.add_to_outputted(n,e)}function output_all(e){let t=document.getElementById("output");t.innerHTML="",show_loading(),t.append(...e),hide_loading(),t.scrollTo(t.scrollLeft,t.scrollHeight)}function show_loading(){let e=document.getElementById("output"),t=document.getElementById("loading"),n=document.getElementById("loading_div");e.style.opacity="25%",n.style.display="flex",t.style.display="initial",n.style.top=e.offsetTop+"px",n.style.left=e.offsetLeft+"px",n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"}function hide_loading(){let e=document.getElementById("output"),t=document.getElementById("loading"),n=document.getElementById("loading_div");e.style.opacity="100%",n.style.display="none",t.style.display="none"}function save_file(e){show_loading();let t=new FileReader;t.onload=()=>{const n=new Uint8Array(t.result);n.length>0&&(filename=e.name,document.getElementById("selected_file").value=e.name,document.getElementById("download").setAttribute("hidden",""),Module.save_file(n),output_with_console("Uploaded file: "+e.name+"\nsize = "+e.size,"Green",3))},t.readAsArrayBuffer(e),hide_loading()}function select_file(){document.getElementById("selector").click()}function file_selected(){const e=document.getElementById("selector").files;e.length>0&&save_file(e[0])}function file_dropped(e){e.preventDefault(),document.getElementById("drag_zone").setAttribute("hidden","");const t=e.dataTransfer.files;t.length>0&&save_file(t[0])}function update_output_level(){document.getElementById("output_level_num").value=document.getElementById("output_level").value,Module.update_output_level()}function update_download(e){show_loading();let t=document.getElementById("download");t.setAttribute("download",filename),t.setAttribute("href",URL.createObjectURL(new Blob([Uint8Array.from(e)],{type:"application/zip"}))),hide_loading()}var filename="pack.zip";document.addEventListener("DOMContentLoaded",(()=>{show_loading()})),window.addEventListener("dragenter",(e=>{document.getElementById("drag_zone").removeAttribute("hidden")})),document.getElementById("drag_zone").addEventListener("dragleave",(e=>{document.getElementById("drag_zone").setAttribute("hidden","")}))</script><style>div.output_box{width:400px;height:250px;border:1px solid #000;resize:both;overflow:auto;white-space:pre-wrap}div.output_box>p{margin:5px;font-family:monospace}</style></head><body><div id=drag_zone hidden style=width:100%;height:100%;position:fixed ondragover=event.preventDefault() ondrop=file_dropped(event)></div><div><input type=file id=selector onchange=save_file() accept=.zip hidden> <input type=button value="Browse for resourcepack"id=selector_button onclick=select_file()><output for=selector_button id=selected_file>No file selected</output></div><div><input type=button value="Start Conversion"onclick=Module.run()><a hidden id=download><input type=button value="Download Converted Pack"></a></div><div><label for=output_level>Output level:</label><input type=range value=2 id=output_level max=5 min=0 onchange=update_output_level()><output for=output_level id=output_level_num>2</output></div><div id=output class=output_box></div><div id=loading_div hidden style=display:flex;position:absolute;align-items:center;justify-content:center><div id=loading hidden style=font-size:200%>Loading...</div></div><script src=MCPPPP-web.js async></script></body></html>